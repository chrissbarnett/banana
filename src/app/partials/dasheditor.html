<div class="modal" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="editor-title">Dashboard settings</div>
            </div>

            <div class="modal-body">

                <div data-bs-active-pane="editor.index" bs-tabs>

                    <!-- General tab -->
                    <div data-title="General" bs-pane>
                        <div class="container-fluid">
                            <div class="row-fluid">
                                <div class="col-md-4">
                                    <label class="small">Title</label><input type="text" class="input-large"
                                                                             ng-model='dashboard.current.title'/>
                                </div>
                                <div class="col-md-1">
                                    <label class="small"> Editable </label><input type="checkbox"
                                                                                  ng-model="dashboard.current.editable"
                                                                                  ng-checked="dashboard.current.editable"/>
                                </div>
                                <div class="col-md-1">
                                    <label class="small"> Hints
                                        <tip>Show 'Add panel' hints in empty spaces</tip>
                                    </label><input type="checkbox" ng-model="dashboard.current.panel_hints"
                                                   ng-checked="dashboard.current.panel_hints"/>
                                </div>
                                <div class="col-md-3">
                                    <label class="small">Style</label><select class="input-small"
                                                                              ng-model="dashboard.current.style"
                                                                              ng-options="f for f in ['dark','light']"></select>
                                </div>
                                <div class="col-md-2">
                                    <label class="small">Version</label>Banana v1.6.0
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Rows tab -->
                    <div data-title="Rows" bs-pane>
                        <div class="container-fluid">

                            <div class="row-fluid">
                                <div class="col-md-12">
                                    <table class="table table-condensed table-striped">
                                        <thead>
                                        <th>Title</th>
                                        <th>Delete</th>
                                        <th>Move</th>
                                        </thead>
                                        <tr ng-repeat="row in dashboard.current.rows">
                                            <td>{{row.title}}</td>
                                            <td><i
                                                ng-click="dashboard.current.rows = _.without(dashboard.current.rows,row)"
                                                class="pointer icon-remove"></i></td>
                                            <td><i ng-click="_.move(dashboard.current.rows,$index,$index-1)"
                                                   ng-hide="$first"
                                                   class="pointer icon-arrow-up"></i></td>
                                            <td><i ng-click="_.move(dashboard.current.rows,$index,$index+1)"
                                                   ng-hide="$last"
                                                   class="pointer icon-arrow-down"></i></td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <form>
                                    <div class="col-md-5">
                                        <label class="small">Title</label>
                                        <input type="text" class="input-large" ng-model='row.title'
                                               placeholder="New row"/>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="small">Height</label>
                                        <input type="text" class="input-mini" ng-model='row.height'/>
                                    </div>
                                    <div class="col-md-1">
                                        <label class="small"> Editable </label>
                                        <input type="checkbox" ng-model="row.editable" ng-checked="row.editable"/>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- Controls tab -->
                    <div data-title="Controls" ng-controller="dashLoader" class="container-fluid" bs-pane>
                        <div class="row-fluid">
                            <div class="col-md-3" style="font-weight:bold;">Show Collections Picker</div>
                            <input type="checkbox" ng-model="dashboard.current.loader.dropdown_collections"
                                   ng-checked="dashboard.current.loader.dropdown_collections">
                        </div>
                        <h5>Allow saving to</h5>
                        <div class="row-fluid">
                            <div class="col-md-2">
                                <label class="small">File</label><input type="checkbox"
                                                                        ng-model="dashboard.current.loader.save_local"
                                                                        ng-checked="dashboard.current.loader.save_local">
                            </div>
                            <div class="col-md-2">
                                <label class="small">Browser</label><input type="checkbox"
                                                                           ng-model="dashboard.current.loader.save_default"
                                                                           ng-checked="dashboard.current.loader.save_default">
                            </div>
                            <div class="col-md-2">
                                <label class="small">Gist
                                    <tip>Requires your domain to be OAUTH registered with Github</tip>
                                </label><input type="checkbox" ng-model="dashboard.current.loader.save_gist"
                                               ng-checked="dashboard.current.loader.save_gist">
                            </div>
                            <div class="col-md-2">
                                <label class="small">Solr</label><input type="checkbox"
                                                                        ng-model="dashboard.current.loader.save_elasticsearch"
                                                                        ng-checked="dashboard.current.loader.save_elasticsearch">
                            </div>
                        </div>
                        <h5>Allow loading from</h5>
                        <div class="row-fluid">
                            <div class="col-md-2">
                                <label class="small">Local file</label><input type="checkbox"
                                                                              ng-model="dashboard.current.loader.load_local"
                                                                              ng-checked="dashboard.current.loader.load_local">
                            </div>
                            <div class="col-md-2">
                                <label class="small">Gist</label><input type="checkbox"
                                                                        ng-model="dashboard.current.loader.load_gist"
                                                                        ng-checked="dashboard.current.loader.load_gist">
                            </div>
                            <div class="col-md-2">
                                <label class="small">Solr</label><input type="checkbox"
                                                                        ng-model="dashboard.current.loader.load_elasticsearch"
                                                                        ng-checked="dashboard.current.loader.load_elasticsearch">
                            </div>
                            <div class="col-md-3" ng-show="dashboard.current.loader.load_elasticsearch">
                                <label class="small">Solr list size
                                    <tip>The maximum number of dashboards to show in the loading list for Solr stored
                                        dashboards under Load menu.
                                    </tip>
                                </label><input class="input-mini" type="number"
                                               ng-model="dashboard.current.loader.load_elasticsearch_size">
                            </div>
                        </div>
                    </div>
                    <!-- Solr tab -->
                    <div data-title="Solr" class="container-fluid" bs-pane>

                        <div class="row-fluid">
                            <h4>Solr Settings</h4>
                        </div>
                        <div class="row-fluid">
                            <div class="col-md-5">
                                <h6>Solr Server</h6>
                                <input type="text" class="input-xlarge" ng-model="dashboard.current.solr.server">
                            </div>
                            <div class="col-md-4">
                                <h6>Collection</h6>
                                <input type="text" class="input-medium" ng-model="dashboard.current.solr.core_name"/>
                                <!--bs-typeahead bs-options="dashboard.current.solr.core_list"-->
                            </div>
                        </div>
                        <div class="row-fluid">
                            <div class="col-md-9">
                                <h6>Global Query Parameters
                                    <tip>Specify query parameters to be appended to all queries of the dashboard panels.
                                    </tip>
                                </h6>
                                <input type="text" class="input-xxlarge"
                                       placeholder="e.g. &defType=lucid&qt=lucid&df=message&..."
                                       ng-model="dashboard.current.solr.global_params">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button ng-click="add_row(dashboard.current,row); reset_row();" class="btn btn-success"
                        ng-show="editor.index == 1">Create Row
                </button>

                <button type="button" class="btn btn-danger"
                        ng-click="editor.index=0;reset_panel();dashboard.refresh();$hide();">Close
                </button>
            </div>
        </div>
    </div>
</div>
